<div class="toolbar">
    <input
            type="search"
            [(ngModel)]="query"
            placeholder="Search by mail, sector or name"
            aria-label="Search"
            class="search"
    />

    <select [(ngModel)]="maturityFilter" aria-label="Filtrer by maturities" class="select">
        <option value="">All maturities</option>
        <option *ngFor="let m of maturities" [value]="m">{{ m }}</option>
    </select>
</div>

<div class="grid">
    <article class="card" *ngFor="let s of filtered">
        <header class="card-header">
            <h3 class="card-title">{{ s.name }}</h3>
            <span class="badge" *ngIf="s.maturity as m">{{ m }}</span>
        </header>

        <div class="card-body">
            <div class="row">
                <span class="label">Mail:</span>
                <a *ngIf="s.email" [href]="'mailto:' + s.email">{{ s.email }}</a>
                <span *ngIf="!s.email" class="muted">—</span>
            </div>
            <div class="row">
                <span class="label">Sector:</span>
                <span>{{ s.sector || '—' }}</span>
            </div>
            <div class="row">
                <span class="label">Legal Status:</span>
                <span>{{ s.legal_status || '—' }}</span>
            </div>
            <div class="row">
                <span class="label">Phone:</span>
                <span>{{ s.phone || '—' }}</span>
            </div>
            <div class="row">
                <span class="label">Address:</span>
                <span>{{ s.address || '—' }}</span>
            </div>
        </div>
    </article>
</div>

<div class="empty" *ngIf="filtered.length === 0">
    Nothing found.
</div>