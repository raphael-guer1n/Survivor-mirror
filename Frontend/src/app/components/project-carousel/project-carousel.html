<section class="carousel" role="region" [attr.aria-label]="ariaLabel">
  <header class="header">
    <h2 class="title">Projets</h2>
    <div class="controls" *ngIf="canNavigate">
      <button type="button" class="ctrl" (click)="prev()" aria-label="Précédent">‹</button>
      <button type="button" class="ctrl" (click)="next()" aria-label="Suivant">›</button>
    </div>
  </header>

  <div
    #viewport
    class="viewport"
    tabindex="0"
    (scroll)="updatePageFromScroll()"
    (keydown)="onKeydown($event)"
    aria-roledescription="carrousel">
    <div #track class="track" [style.columnGap.px]="gap">
      <div class="slide" *ngFor="let p of projects; " [style.width.px]="cardWidth">
        <app-project-card [project]="p"></app-project-card>
      </div>
    </div>
  </div>

  <div class="dots" *ngIf="canNavigate">
    <button
      class="dot"
      *ngFor="let i of pages"
      [class.active]="i === pageIndex()"
      (click)="goToPage(i)"
      [attr.aria-label]="'Aller à la page ' + (i + 1)">
    </button>
  </div>
</section>
