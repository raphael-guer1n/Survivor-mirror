<div class="modal-overlay" (click)="close()">
    <div class="modal" (click)="$event.stopPropagation()">
        <header class="modal-header">
            <h2>Edit News #{{ newsId }}</h2>
            <button type="button" class="btn ghost" (click)="close()">Close</button>
        </header>

        @if (error) {
            <div class="alert error">{{ error }}</div>
        }
        @if (loading) {
            <div class="loading">Loading…</div>
        }

        @if (!loading) {
            <form [formGroup]="form" (ngSubmit)="$event.preventDefault()" class="form-grid">
                <label>
                    Title
                    <input formControlName="title" placeholder="News Title"/>
                </label>
                <label>
                    News Date
                    <input formControlName="news_date" type="date" placeholder="Date"/>
                </label>
                <label>
                    Location
                    <input formControlName="location" placeholder="Location"/>
                </label>
                <label>
                    Category
                    <input formControlName="category" placeholder="Category"/>
                </label>
                <label class="col-span-2">
                    Description
                    <textarea rows="6" formControlName="description" placeholder="Notes / description"></textarea>
                </label>

                <div class="actions col-span-2">
                    <button type="button" class="btn" [disabled]="saving" (click)="save()">
                        {{ saving ? 'Saving…' : 'Save' }}
                    </button>
                    <button type="button" class="btn ghost" (click)="close()">Cancel</button>
                    <span class="spacer"></span>
                    <button type="button" class="btn danger" [disabled]="deleting" (click)="remove()">
                        {{ deleting ? 'Deleting…' : 'Delete' }}
                    </button>
                </div>
            </form>
        }
    </div>
</div>