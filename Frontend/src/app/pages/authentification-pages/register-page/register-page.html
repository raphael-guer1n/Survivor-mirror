<section class="auth-container">
    <h1>Create a account</h1>

    <form (ngSubmit)="onSubmit()" #registerForm="ngForm" novalidate>
        <div class="field">
            <label for="email">Email</label>
            <input
                    id="email"
                    name="email"
                    type="email"
                    [(ngModel)]="email"
                    required
                    autocomplete="username"
                    placeholder="mail@exemple.com"
            />
        </div>

        <div class="field">
            <label for="password">Password</label>
            <input
                    id="password"
                    name="password"
                    type="password"
                    [(ngModel)]="password"
                    required
                    autocomplete="new-password"
                    placeholder="Password"
            />
        </div>

        <div class="field">
            <label for="confirm">Confirm password</label>
            <input
                    id="confirm"
                    name="confirm"
                    type="password"
                    [(ngModel)]="confirm"
                    required
                    autocomplete="new-password"
                    placeholder="Confirm password"
            />
            @if (confirm && !passwordsMatch) {
                <small class="error">
                    Passwords do not match
                </small>
            }
        </div>

        <button class="btn" type="submit" [disabled]="loading || !registerForm.form.valid || !passwordsMatch">
            {{ loading ? 'Creation...' : 'Register' }}
        </button>

        @if (error) {
            <p class="error">{{ error }}</p>
        }
    </form>

    <p class="hint">
        Already have an account?
        <a routerLink="/login">Connect</a>
    </p>
</section>